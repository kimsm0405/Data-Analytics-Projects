<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cinelytics - 영화 박스오피스 대시보드</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="/static/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <div id="splash-screen" class="screen active">
        <div class="splash-content">
            <h1>🎬 Cinelytics</h1>
            <p>영화 박스오피스 데이터와 뉴스를 확인하세요!</p>
            
            <div class="button-group">
                <button id="start-button" class="btn-primary">대시보드 시작하기</button>
                <button id="news-button" class="btn-news">최신 영화 뉴스 보기</button>
            </div>

            <div class="loading-spinner" style="display: none;"></div>
            <p class="loading-message" style="display: none;">데이터를 불러오는 중입니다...</p>
            <p class="error-message" style="display: none; color: red;"></p>
            
            <a href="#" id="dev-info-trigger" class="dev-info-link">개발자 정보</a>
        </div>
    </div>

    <div id="dashboard-screen" class="screen">
        <button class="btn-home" id="back-to-home-from-dash">🏠 메인으로</button>

        <div class="dashboard-layout">
            <div class="left-column">
                <header>
                    <h1>🎬 일별 박스오피스</h1>
                    <p id="data-date">데이터 기준: 로딩 중...</p>
                </header>
                
                <section class="chart-container">
                    <h3>TOP 10 누적 관객수 (명)</h3>
                    <canvas id="audienceChart"></canvas>
                </section>
                
                <section id="date-picker-section" class="date-picker-container">
                    <h3>과거 날짜 조회하기</h3>
                    <input type="date" id="date-picker">
                    <button id="lookup-button" class="btn-secondary">조회</button>
                    <p id="loading-indicator" class="loading-message" style="display: none;">
                        데이터를 불러오는 중입니다...
                    </p>
                </section>
            </div>
            
            <div class="right-column">
                <h2>박스오피스 순위</h2>
                <section id="movie-grid" class="movie-grid-container">
                    </section>
            </div>
        </div>
    </div>

    <div id="news-screen" class="screen">
        <button class="btn-home" id="back-to-home-from-news">🏠 메인으로</button>

        <div class="news-page-container">
            <header>
                <h1>📰 실시간 영화 뉴스</h1>
                <p>구글 뉴스 기반 최신 영화 트렌드</p>
            </header>
            
            <div class="news-content-box">
                <ul id="full-news-list" class="news-list">
                    </ul>
            </div>
        </div>
    </div>

    <div id="dev-info-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>개발자 정보</h2>
            <p><strong>이름:</strong> 김성민</p>
            <p><strong>소속:</strong> 한국폴리텍대학 서울정수캠퍼스 인공지능소프트웨어과</p>
            <p><strong>이메일:</strong> ksm990405@gmail.com</p>
            <p><strong>전화번호:</strong> 010-2556-6832</p>
            <button id="modal-close-button" class="btn-modal-close">닫기</button>
        </div>
    </div>

    <div id="movie-detail-modal" class="modal-overlay">
        <div class="modal-content movie-detail-content">
            <span class="modal-close-btn">&times;</span>

            <div class="modal-body">
                <img id="modal-poster" src="" alt="영화 포스터" onerror="this.onerror=null;this.src='/static/no-image.png';">
                <div class="modal-info">
                    <h2 id="modal-title">영화 제목</h2>
                    <p class="modal-rating">⭐️ N/A / 10</p>
                    <p class="modal-audience">누적 관객: N/A명</p>
                    <h3>줄거리</h3>
                    <p id="modal-overview">줄거리 정보가 없습니다.</p>
                </div>
            </div>

            <div class="review-section">
                <h3>리뷰</h3>
                
                <form id="review-form">
                    <div class="form-group">
                        <input type="text" id="review-author" placeholder="작성자" required>
                        <select id="review-rating" required>
                            <option value="">별점</option>
                            <option value="5">⭐️⭐️⭐️⭐️⭐️</option>
                            <option value="4">⭐️⭐️⭐️⭐️</option>
                            <option value="3">⭐️⭐️⭐️</option>
                            <option value="2">⭐️⭐️</option>
                            <option value="1">⭐️</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <textarea id="review-content" placeholder="리뷰를 남겨주세요..." required></textarea>
                        <button type="submit" class="btn-primary">등록</button>
                    </div>
                </form>
                
                <div id="review-list">
                    </div>
            </div>

        </div>
    </div>

    <script src="/static/script.js"></script>

</body>
</html>